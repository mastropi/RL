Started at: 2021-09-16 13:42:57
System: # servers = 3, rhos = [0.4, 0.75, 0.35]


---> NEW K (Queue's capacity = 40)
---> (nparticles=1000, nmeantimes=[1000])
Computing TRUE blocking probability... --> 0.2 sec
Pr(K)=0.000394%

	---> NEW BUFFER SIZE (BSA=8, BIC=3)
******************!!!!!!! Simulation 1 of 1 !!!!!!*****************
	K=40, nparticles=1000, nmeantimes=1000, buffer_size_activation=8, #burn-in absorption cycles=3

		### Replication 1 of 8 ###
		*** FLEMING-VIOT ESTIMATION ***
	Running Fleming-Viot simulation using an ABSORPTION start state to estimate blocking probability (seed=1313)...
Total number of activation states: 36 (0.122486% <= p(S) <= 25.412%) (Nmin to expect at 1 case in state with smallest p: Nmin=816)
simulate: [reactivate=True] Generating trajectories for each particle until the first ACTIVATION after the burn-in period takes place... 
--> so that we can start the FV process.
--> (min, mean, max) times at which FV process started on n=1000 particles: (0.7, 51.3, 276.9) ((0.1%, 3.6%, 19.4%) of max simulation time)
simulate: Generating trajectories for each particle until first absorption... 
--> so that we can sort ALL the first absorption times of particles and start reactivating when reactivate=True 
    which requires that the reactivation process starts with the particle with smallest absorption time 
    so that the reactivated particle can be chosen among the N-1 particles not yet absorbed at that time.
--> Simulation time reset from T=1428.6 to T=82.6 (1.1 * maximum observed survival time for P(T>t) estimation).
Generating trajectories for each particle until END OF SIMULATION (T=82.6)...
Finalizing and identifying measurement times...
Estimating blocking probability with Fleming-Viot...
	--> E(T) estimation: (n, min, mean, max) = (1000 out of N=1000, 0.0, 12.4, 202.0)
	--> Number of observations for P(T>t) estimation from FV simulation: 1000 (N=1000)
execution time: 402.2 sec, 6.7 min
		P(K) estimated by FV (integral=1.91582e-05 (n=1000), E(T)=12.4 (n=1000)): 0.000154%
		True P(K): 0.000394%
-- FAIRNESS --
FV simulation:
- time = 133487.4 (avg = 133.5 per particle)
- #events = 425695 (avg = 426 per particle)

---> Execution time MC + FV: 402.2 sec, 6.7 min

		### Replication 2 of 8 ###
		*** FLEMING-VIOT ESTIMATION ***
	Running Fleming-Viot simulation using an ABSORPTION start state to estimate blocking probability (seed=1323)...
Total number of activation states: 36 (0.122486% <= p(S) <= 25.412%) (Nmin to expect at 1 case in state with smallest p: Nmin=816)
simulate: [reactivate=True] Generating trajectories for each particle until the first ACTIVATION after the burn-in period takes place... 
--> so that we can start the FV process.
--> (min, mean, max) times at which FV process started on n=1000 particles: (1.3, 50.3, 290.5) ((0.1%, 3.5%, 20.3%) of max simulation time)
simulate: Generating trajectories for each particle until first absorption... 
--> so that we can sort ALL the first absorption times of particles and start reactivating when reactivate=True 
    which requires that the reactivation process starts with the particle with smallest absorption time 
    so that the reactivated particle can be chosen among the N-1 particles not yet absorbed at that time.
--> Simulation time reset from T=1428.6 to T=179.1 (1.1 * maximum observed survival time for P(T>t) estimation).
Generating trajectories for each particle until END OF SIMULATION (T=179.1)...
Finalizing and identifying measurement times...
Estimating blocking probability with Fleming-Viot...
	--> E(T) estimation: (n, min, mean, max) = (1000 out of N=1000, 0.0, 13.1, 225.1)
	--> Number of observations for P(T>t) estimation from FV simulation: 1000 (N=1000)
execution time: 548.5 sec, 9.1 min
		P(K) estimated by FV (integral=9.94471e-05 (n=1000), E(T)=13.1 (n=1000)): 0.000757%
		True P(K): 0.000394%
-- FAIRNESS --
FV simulation:
- time = 229084.8 (avg = 229.1 per particle)
- #events = 738424 (avg = 738 per particle)

---> Execution time MC + FV: 548.7 sec, 9.1 min

		### Replication 3 of 8 ###
		*** FLEMING-VIOT ESTIMATION ***
	Running Fleming-Viot simulation using an ABSORPTION start state to estimate blocking probability (seed=1333)...
Total number of activation states: 36 (0.122486% <= p(S) <= 25.412%) (Nmin to expect at 1 case in state with smallest p: Nmin=816)
simulate: [reactivate=True] Generating trajectories for each particle until the first ACTIVATION after the burn-in period takes place... 
--> so that we can start the FV process.
--> (min, mean, max) times at which FV process started on n=1000 particles: (1.1, 50.3, 386.8) ((0.1%, 3.5%, 27.1%) of max simulation time)
simulate: Generating trajectories for each particle until first absorption... 
--> so that we can sort ALL the first absorption times of particles and start reactivating when reactivate=True 
    which requires that the reactivation process starts with the particle with smallest absorption time 
    so that the reactivated particle can be chosen among the N-1 particles not yet absorbed at that time.
--> Simulation time reset from T=1428.6 to T=66.8 (1.1 * maximum observed survival time for P(T>t) estimation).
Generating trajectories for each particle until END OF SIMULATION (T=66.8)...
Finalizing and identifying measurement times...
Estimating blocking probability with Fleming-Viot...
	--> E(T) estimation: (n, min, mean, max) = (1000 out of N=1000, 0.0, 12.1, 282.9)
	--> Number of observations for P(T>t) estimation from FV simulation: 1000 (N=1000)
execution time: 278.0 sec, 4.6 min
		P(K) estimated by FV (integral=0 (n=1000), E(T)=12.1 (n=1000)): 0.000000%
		True P(K): 0.000394%
-- FAIRNESS --
FV simulation:
- time = 116802.9 (avg = 116.8 per particle)
- #events = 371415 (avg = 371 per particle)

---> Execution time MC + FV: 278.4 sec, 4.6 min

		### Replication 4 of 8 ###
		*** FLEMING-VIOT ESTIMATION ***
	Running Fleming-Viot simulation using an ABSORPTION start state to estimate blocking probability (seed=1343)...
Total number of activation states: 36 (0.122486% <= p(S) <= 25.412%) (Nmin to expect at 1 case in state with smallest p: Nmin=816)
simulate: [reactivate=True] Generating trajectories for each particle until the first ACTIVATION after the burn-in period takes place... 
--> so that we can start the FV process.
--> (min, mean, max) times at which FV process started on n=1000 particles: (1.1, 49.3, 303.8) ((0.1%, 3.5%, 21.3%) of max simulation time)
simulate: Generating trajectories for each particle until first absorption... 
--> so that we can sort ALL the first absorption times of particles and start reactivating when reactivate=True 
    which requires that the reactivation process starts with the particle with smallest absorption time 
    so that the reactivated particle can be chosen among the N-1 particles not yet absorbed at that time.
--> Simulation time reset from T=1428.6 to T=132.5 (1.1 * maximum observed survival time for P(T>t) estimation).
Generating trajectories for each particle until END OF SIMULATION (T=132.5)...
Finalizing and identifying measurement times...
Estimating blocking probability with Fleming-Viot...
	--> E(T) estimation: (n, min, mean, max) = (1000 out of N=1000, 0.0, 12.9, 205.9)
	--> Number of observations for P(T>t) estimation from FV simulation: 1000 (N=1000)
execution time: 432.1 sec, 7.2 min
		P(K) estimated by FV (integral=8.06648e-05 (n=1000), E(T)=12.9 (n=1000)): 0.000627%
		True P(K): 0.000394%
-- FAIRNESS --
FV simulation:
- time = 181485.0 (avg = 181.5 per particle)
- #events = 583264 (avg = 583 per particle)

---> Execution time MC + FV: 432.2 sec, 7.2 min

		### Replication 5 of 8 ###
		*** FLEMING-VIOT ESTIMATION ***
	Running Fleming-Viot simulation using an ABSORPTION start state to estimate blocking probability (seed=1353)...
Total number of activation states: 36 (0.122486% <= p(S) <= 25.412%) (Nmin to expect at 1 case in state with smallest p: Nmin=816)
simulate: [reactivate=True] Generating trajectories for each particle until the first ACTIVATION after the burn-in period takes place... 
--> so that we can start the FV process.
--> (min, mean, max) times at which FV process started on n=1000 particles: (0.7, 51.3, 345.4) ((0.1%, 3.6%, 24.2%) of max simulation time)
simulate: Generating trajectories for each particle until first absorption... 
--> so that we can sort ALL the first absorption times of particles and start reactivating when reactivate=True 
    which requires that the reactivation process starts with the particle with smallest absorption time 
    so that the reactivated particle can be chosen among the N-1 particles not yet absorbed at that time.
--> Simulation time reset from T=1428.6 to T=186.5 (1.1 * maximum observed survival time for P(T>t) estimation).
Generating trajectories for each particle until END OF SIMULATION (T=186.5)...
Finalizing and identifying measurement times...
Estimating blocking probability with Fleming-Viot...
	--> E(T) estimation: (n, min, mean, max) = (1000 out of N=1000, 0.0, 12.4, 214.3)
	--> Number of observations for P(T>t) estimation from FV simulation: 1000 (N=1000)
execution time: 574.5 sec, 9.6 min
		P(K) estimated by FV (integral=0.000277148 (n=1000), E(T)=12.4 (n=1000)): 0.002242%
		True P(K): 0.000394%
-- FAIRNESS --
FV simulation:
- time = 237467.0 (avg = 237.5 per particle)
- #events = 765370 (avg = 765 per particle)

---> Execution time MC + FV: 574.8 sec, 9.6 min

		### Replication 6 of 8 ###
		*** FLEMING-VIOT ESTIMATION ***
	Running Fleming-Viot simulation using an ABSORPTION start state to estimate blocking probability (seed=1363)...
Total number of activation states: 36 (0.122486% <= p(S) <= 25.412%) (Nmin to expect at 1 case in state with smallest p: Nmin=816)
simulate: [reactivate=True] Generating trajectories for each particle until the first ACTIVATION after the burn-in period takes place... 
--> so that we can start the FV process.
--> (min, mean, max) times at which FV process started on n=1000 particles: (0.8, 49.5, 319.7) ((0.1%, 3.5%, 22.4%) of max simulation time)
simulate: Generating trajectories for each particle until first absorption... 
--> so that we can sort ALL the first absorption times of particles and start reactivating when reactivate=True 
    which requires that the reactivation process starts with the particle with smallest absorption time 
    so that the reactivated particle can be chosen among the N-1 particles not yet absorbed at that time.
--> Simulation time reset from T=1428.6 to T=112.4 (1.1 * maximum observed survival time for P(T>t) estimation).
Generating trajectories for each particle until END OF SIMULATION (T=112.4)...
Finalizing and identifying measurement times...
Estimating blocking probability with Fleming-Viot...
	--> E(T) estimation: (n, min, mean, max) = (1000 out of N=1000, 0.0, 12.6, 203.0)
	--> Number of observations for P(T>t) estimation from FV simulation: 1000 (N=1000)
execution time: 392.7 sec, 6.5 min
		P(K) estimated by FV (integral=7.39038e-07 (n=1000), E(T)=12.6 (n=1000)): 0.000006%
		True P(K): 0.000394%
-- FAIRNESS --
FV simulation:
- time = 161559.6 (avg = 161.6 per particle)
- #events = 518536 (avg = 519 per particle)

---> Execution time MC + FV: 393.1 sec, 6.6 min

		### Replication 7 of 8 ###
		*** FLEMING-VIOT ESTIMATION ***
	Running Fleming-Viot simulation using an ABSORPTION start state to estimate blocking probability (seed=1373)...
Total number of activation states: 36 (0.122486% <= p(S) <= 25.412%) (Nmin to expect at 1 case in state with smallest p: Nmin=816)
simulate: [reactivate=True] Generating trajectories for each particle until the first ACTIVATION after the burn-in period takes place... 
--> so that we can start the FV process.
--> (min, mean, max) times at which FV process started on n=1000 particles: (1.4, 53.0, 321.1) ((0.1%, 3.7%, 22.5%) of max simulation time)
simulate: Generating trajectories for each particle until first absorption... 
--> so that we can sort ALL the first absorption times of particles and start reactivating when reactivate=True 
    which requires that the reactivation process starts with the particle with smallest absorption time 
    so that the reactivated particle can be chosen among the N-1 particles not yet absorbed at that time.
--> Simulation time reset from T=1428.6 to T=114.3 (1.1 * maximum observed survival time for P(T>t) estimation).
Generating trajectories for each particle until END OF SIMULATION (T=114.3)...
Finalizing and identifying measurement times...
Estimating blocking probability with Fleming-Viot...
	--> E(T) estimation: (n, min, mean, max) = (1000 out of N=1000, 0.0, 13.3, 248.7)
	--> Number of observations for P(T>t) estimation from FV simulation: 1000 (N=1000)
execution time: 401.1 sec, 6.7 min
		P(K) estimated by FV (integral=0.000240115 (n=1000), E(T)=13.3 (n=1000)): 0.001804%
		True P(K): 0.000394%
-- FAIRNESS --
FV simulation:
- time = 167003.5 (avg = 167.0 per particle)
- #events = 534808 (avg = 535 per particle)

---> Execution time MC + FV: 401.4 sec, 6.7 min

		### Replication 8 of 8 ###
		*** FLEMING-VIOT ESTIMATION ***
	Running Fleming-Viot simulation using an ABSORPTION start state to estimate blocking probability (seed=1383)...
Total number of activation states: 36 (0.122486% <= p(S) <= 25.412%) (Nmin to expect at 1 case in state with smallest p: Nmin=816)
simulate: [reactivate=True] Generating trajectories for each particle until the first ACTIVATION after the burn-in period takes place... 
--> so that we can start the FV process.
--> (min, mean, max) times at which FV process started on n=1000 particles: (0.8, 50.6, 358.3) ((0.1%, 3.5%, 25.1%) of max simulation time)
simulate: Generating trajectories for each particle until first absorption... 
--> so that we can sort ALL the first absorption times of particles and start reactivating when reactivate=True 
    which requires that the reactivation process starts with the particle with smallest absorption time 
    so that the reactivated particle can be chosen among the N-1 particles not yet absorbed at that time.
--> Simulation time reset from T=1428.6 to T=213.2 (1.1 * maximum observed survival time for P(T>t) estimation).
Generating trajectories for each particle until END OF SIMULATION (T=213.2)...
Finalizing and identifying measurement times...
Estimating blocking probability with Fleming-Viot...
	--> E(T) estimation: (n, min, mean, max) = (1000 out of N=1000, 0.0, 13.7, 196.2)
	--> Number of observations for P(T>t) estimation from FV simulation: 1000 (N=1000)
execution time: 646.8 sec, 10.8 min
		P(K) estimated by FV (integral=0.000213513 (n=1000), E(T)=13.7 (n=1000)): 0.001560%
		True P(K): 0.000394%
-- FAIRNESS --
FV simulation:
- time = 263540.7 (avg = 263.5 per particle)
- #events = 851598 (avg = 852 per particle)

---> Execution time MC + FV: 647.1 sec, 10.8 min
Simulation results for #servers=3, rhos=[0.4, 0.75, 0.35], K=40, N=1000, T=213.2334616040269 (1000x), max #events=inf
                rhos   K     N  nmeantimes  buffer_size_activation  \
0  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
0  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
0  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
0  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
0  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
0  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
0  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
0  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   

   buffer_size_activation_value  burnin_cycles_absorption  rep  seed  Pr(MC)  \
0                             8                         3    1  1313     NaN   
0                             8                         3    2  1323     NaN   
0                             8                         3    3  1333     NaN   
0                             8                         3    4  1343     NaN   
0                             8                         3    5  1353     NaN   
0                             8                         3    6  1363     NaN   
0                             8                         3    7  1373     NaN   
0                             8                         3    8  1383     NaN   

          ...         n(RT)        Pr(FV)      integral       E(T)   n(FV)  \
0         ...          None  1.540614e-06  1.915821e-05  12.435438  425695   
0         ...          None  7.573571e-06  9.944707e-05  13.130804  738424   
0         ...          None  0.000000e+00  0.000000e+00  12.144105  371415   
0         ...          None  6.273538e-06  8.066483e-05  12.857949  583264   
0         ...          None  2.242213e-05  2.771481e-04  12.360470  765370   
0         ...          None  5.868299e-08  7.390375e-07  12.593726  518536   
0         ...          None  1.803762e-05  2.401154e-04  13.311924  534808   
0         ...          None  1.560212e-05  2.135126e-04  13.684846  851598   

   n(PT)  n(ET)     Pr(K)  ratio_mc_fv_time  ratio_mc_fv_events  
0   1000   1000  0.000004               NaN                 NaN  
0   1000   1000  0.000004               NaN                 NaN  
0   1000   1000  0.000004               NaN                 NaN  
0   1000   1000  0.000004               NaN                 NaN  
0   1000   1000  0.000004               NaN                 NaN  
0   1000   1000  0.000004               NaN                 NaN  
0   1000   1000  0.000004               NaN                 NaN  
0   1000   1000  0.000004               NaN                 NaN  

[8 rows x 23 columns]
Execution time: 3678.2 sec, 61.3 min, 1.0 hours
Top and bottom 5 records in the results data frame:
                rhos   K     N  nmeantimes  buffer_size_activation  \
0  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
1  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
2  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
3  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
4  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   

   buffer_size_activation_value  burnin_cycles_absorption  rep  seed  Pr(MC)  \
0                             8                         3    1  1313     NaN   
1                             8                         3    2  1323     NaN   
2                             8                         3    3  1333     NaN   
3                             8                         3    4  1343     NaN   
4                             8                         3    5  1353     NaN   

          ...         n(RT)    Pr(FV)  integral       E(T)   n(FV)  n(PT)  \
0         ...          None  0.000002  0.000019  12.435438  425695   1000   
1         ...          None  0.000008  0.000099  13.130804  738424   1000   
2         ...          None  0.000000  0.000000  12.144105  371415   1000   
3         ...          None  0.000006  0.000081  12.857949  583264   1000   
4         ...          None  0.000022  0.000277  12.360470  765370   1000   

   n(ET)     Pr(K)  ratio_mc_fv_time  ratio_mc_fv_events  
0   1000  0.000004               NaN                 NaN  
1   1000  0.000004               NaN                 NaN  
2   1000  0.000004               NaN                 NaN  
3   1000  0.000004               NaN                 NaN  
4   1000  0.000004               NaN                 NaN  

[5 rows x 23 columns]
                rhos   K     N  nmeantimes  buffer_size_activation  \
3  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
4  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
5  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
6  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   
7  [0.4, 0.75, 0.35]  40  1000        1000                     0.2   

   buffer_size_activation_value  burnin_cycles_absorption  rep  seed  Pr(MC)  \
3                             8                         3    4  1343     NaN   
4                             8                         3    5  1353     NaN   
5                             8                         3    6  1363     NaN   
6                             8                         3    7  1373     NaN   
7                             8                         3    8  1383     NaN   

          ...         n(RT)        Pr(FV)      integral       E(T)   n(FV)  \
3         ...          None  6.273538e-06  8.066483e-05  12.857949  583264   
4         ...          None  2.242213e-05  2.771481e-04  12.360470  765370   
5         ...          None  5.868299e-08  7.390375e-07  12.593726  518536   
6         ...          None  1.803762e-05  2.401154e-04  13.311924  534808   
7         ...          None  1.560212e-05  2.135126e-04  13.684846  851598   

   n(PT)  n(ET)     Pr(K)  ratio_mc_fv_time  ratio_mc_fv_events  
3   1000   1000  0.000004               NaN                 NaN  
4   1000   1000  0.000004               NaN                 NaN  
5   1000   1000  0.000004               NaN                 NaN  
6   1000   1000  0.000004               NaN                 NaN  
7   1000   1000  0.000004               NaN                 NaN  

[5 rows x 23 columns]
Data frame saved to E:\Daniel\Projects\PhD-RL-Toulouse\projects\RL-002-QueueBlocking\results\estimates_vs_J_20210916_134257_results.csv
Data frame saved to E:\Daniel\Projects\PhD-RL-Toulouse\projects\RL-002-QueueBlocking\results\estimates_vs_J_20210916_134257_results_agg.csv
Data frame saved to E:\Daniel\Projects\PhD-RL-Toulouse\projects\RL-002-QueueBlocking\results\estimates_vs_J_20210916_134257_proba_functions.csv
Ended at: 2021-09-16 14:44:16
Execution time: 61.3 min, 1.0 hours
